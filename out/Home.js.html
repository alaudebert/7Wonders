<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Home.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Home.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Page d'accueil de l'application 
 * 
 * Fonctionnalitées : 
 *  - Créer une partie avec son nom de partie et son nombre de joueur
 * 
 * Navigation : 
 *  - Renvoie à la page Game.js
 */

import {
  StyleSheet,
  Text,
  View,
  TextInput,
  Image,
  ImageBackground,
  TouchableOpacity,
} from "react-native";
import { Picker } from "@react-native-picker/picker";
import { useState } from "react";
import { ref, set, update, onValue, remove } from "firebase/database";
import { db } from "./configuration";

const Game = (props) => {
  const [name, setName] = useState("");
  const [numberOfPlayers, setNumberOfPlayers] = useState("4");
  const goTo = () => {
    props.navigation.push("Game", {
      PlayerNumber: numberOfPlayers,
      Name: name,
    });
  };

  /** */
  function createData() {
    set(ref(db, "Game/" + name), {
      name: name,
    })
      .then(() => {
        // Data saved successfully!
        alert("data updated!");
      })
      .catch((error) => {
        // The write failed...
        alert(error);
      });
    goTo();
  }

  const verification = () => {
    if (!name) {
      alert("Veuillez indiquer un nom de partie ! ");
      return;
    } else {
      createData();
    }
  };

  return (
    &lt;ImageBackground
      source={require("../assets/couverture.png")}
      style={styles.background}
    >
      &lt;View style={styles.container}>
        &lt;Image source={require(`../assets/titre.png`)} style={styles.image} />

        &lt;TextInput
          value={name}
          onChangeText={(name) => {
            setName(name);
          }}
          placeholder="Nom de la partie"
          style={styles.textBoxes}
        >&lt;/TextInput>
        &lt;View style={styles.textBoxes}>
          &lt;Picker
            selectedValue={numberOfPlayers}
            onValueChange={(itemValue) => setNumberOfPlayers(itemValue)}
            style={styles.picker}
          >
            &lt;Picker.Item style={styles.picker} label="4 joueurs" value="4" />
            &lt;Picker.Item label="5 joueurs" value="5" />
            &lt;Picker.Item label="6 joueurs" value="6" />
            &lt;Picker.Item label="7 joueurs" value="7" />
          &lt;/Picker>
        &lt;/View>
        &lt;TouchableOpacity
          onPress={() => {
            verification();
          }}
          style={styles.button}
        >
          &lt;Text style={styles.buttonText}>Jouer&lt;/Text>
        &lt;/TouchableOpacity>
      &lt;/View>
    &lt;/ImageBackground>
  );
};

export default Game;

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
  textBoxes: {
    width: "90%",
    fontSize: 18,
    padding: 12,
    borderColor: "gray",
    borderWidth: 0.4,
    borderRadius: 10,
    margin: 20,
    backgroundColor: "#fff",
  },
  text: {
    textAlign: "center",
    width: "63%",
    fontSize: 18,
    padding: 12,
    borderColor: "#c9aa79",
    borderWidth: 0.2,
    borderRadius: 10,
    marginBottom: 40,
    marginLeft: 20,
    backgroundColor: "#fff",
  },
  background: {
    flex: 1,
    resizeMode: "cover", // Pour couvrir tout l'écran
  },
  image: {
    width: 350,
    height: 200,
    resizeMode: "contain",
  },
  button: {
    paddingVertical: 12,
    paddingHorizontal: 24,
    margin: 40,
    backgroundColor: "#c9aa79",
    borderRadius: 8,
    shadowColor: "#fff",
  },
  buttonText: {
    fontSize: 20,
    fontWeight: "bold",
    textAlign: "center",
    color: "#fff",
  },
  number: {
    width: "90%",
    flexDirection: "row",
  },
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Mar 21 2023 12:00:32 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
